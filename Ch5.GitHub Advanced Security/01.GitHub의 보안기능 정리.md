---
layout: default
title: GitHub의 보안기능들
parent: 05. GitHub Advanced Security란
nav_order: 1
---


## GitHub은 소프트웨어 개발 주기 전반에 걸친 보안을 강화합니다. 

### How 1. 먼저 의존성 부터 확인 합니다. : Dependabot

* 프로젝트가 의존하고 있는 의존성은 어떤것이 있지? 🤔 : [Dependency Graph](https://github.com/doosanbear/Demo-webgoatm/network/dependencies)  
  
* 의존성에 알람이 뜨면 알람을 발생시킵니다. 🔊 : [Dependabot alert](https://github.com/doosanbear/Demo-webgoatm) 
   - Dependabot alert를 볼 수 있는 권한은 [Org owner/저장소 admin이 추가/삭제](https://docs.github.com/en/enterprise-server@latest/github/administering-a-repository/managing-repository-settings/managing-security-and-analysis-settings-for-your-repository#granting-access-to-security-alerts)
  
* 발생된 의존성 알람에 대해 자동 패치를 수행합니다. : [Dependabot security update](https://github.com/doosanbear/Demo-webgoatm/pulls)

* 보안 데이터베이스 
   * GitHub의 전체 보안 데이터 베이스 : [GitHub Advisory Database](https://github.com/advisories)
   * GitHub은 [CVE를 직접 발행할 수 있는 인증기관](https://github.blog/2019-09-18-securing-software-together/#github-is-now-a-cve-numbering-authority) (CNA: CVE Numbering Authority)
   * [NVD(National Vulnerability Database), Community Sources](https://github.blog/2019-09-18-securing-software-together/)

<br>

### How 2. Code를 작성할 때 들어갈 수 있는 위협요소를 분석합니다. : Code Scanning

   * **GitHub + Semmle**
   ![GitHub Advanced Security - issc29](https://user-images.githubusercontent.com/40287191/120106398-bf619d00-c197-11eb-8324-01691841a262.png)
   ![GitHub Advanced Security - issc29 (1)](https://user-images.githubusercontent.com/40287191/120127834-6f1c2680-c1fb-11eb-8ee1-3ae7452d2045.png)


   * [CodeQL : 정적 분석을 위한 내부 쿼리 엔진](slide/codeql.md)
   
   * [분석예제 with Javascript](https://github.com/doosanbear/code-scanning-javascript-demo)
   
   * [Pull Request에서의 Code Scanning Alert](https://github.com/octodemo/demo-vulnerabilities-ghas/pull/21)
   
   * [더 많은 예제입니다.](https://github.com/doosanbear/Demo-webgoatm/security)
   
   * [Codeql 저장소](https://github.com/github/codeql), [Codeql-action 저장소](https://github.com/github/codeql-action)에 지속적으로 Query들이 업데이트 됩니다.
      - [GitHub Connect 설정](https://docs.github.com/en/enterprise-server@latest/admin/github-actions/managing-access-to-actions-from-githubcom/enabling-automatic-access-to-githubcom-actions-using-github-connect)을 이용해 자동으로 업데이트된 CodeQL 쿼리들 사용가능
   
   * [순수 온프렘에서도 사용가능합니다: Codeql-action-sync-tool](https://github.com/github/codeql-action-sync-tool/)을 이용해 인터넷 연결이 없는 상황에서도 수동으로 sync가능 
   
   * 저장소의 읽기 권한이 있으면, Pull Request상에 Code Scanning 결과 볼 수 있고, 저장소에 '쓰기' 권한이 있으면 'Security' 탭에서 전체 결과 확인 가능 ([설명](https://docs.github.com/en/enterprise-server@latest/code-security/secure-coding/automatically-scanning-your-code-for-vulnerabilities-and-errors/managing-code-scanning-alerts-for-your-repository#viewing-the-alerts-for-a-repository))
   
   * [CodeQL 쿼리 스위트 설명](queries.md)
     - [Help 설명](https://docs.github.com/en/enterprise-server@latest/code-security/secure-coding/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#running-additional-queries)
     - [Extended CodeQL query 실행 yaml파일](https://github.com/son7211/demovul/blob/master/.github/workflows/codeql-analysis.yml)
   
   * [3rd 도구와 유연하게 연동하여](https://github.com/github/advanced-security-field/blob/main/technical-knowledge/code-scanning-integrations.md), [Upload SARIF](https://docs.github.com/en/code-security/secure-coding/integrating-with-code-scanning/uploading-a-sarif-file-to-github)를 통해 결과를 함께 확인할 수 있습니다.
   
   * [CodeQL CLI](https://codeql.github.com/docs/codeql-cli/)
   
   * [CodeQL Visual Studio](https://codeql.github.com/docs/codeql-for-visual-studio-code/) : [Analysis Example](https://gist.github.com/lcartey/323731b3de439b2fad7b499fee83b842)
  
   * [CodeQL은 Microsoft, Google, Uber등에서 분석을 위해 사용됩니다.](slide/codeql_customer.md) 

<br>

### How 3. Code 작성시 실수로 Push되는 Credential을 자동으로 검출합니다 : Secret Scanning
 
   * [Secret Scanning](https://github.com/octodemo/demo-vulnerabilities-ghas/security/secret-scanning)
 
   * [현재 250개 이상 패턴 coverage](https://docs.github.com/en/enterprise-cloud@latest/code-security/secret-scanning/secret-scanning-patterns#high-confidence-patterns)
   
   * GitHub.com상에 Public 저장소들은 이전부터 default로 자동 ON되어 있어왔습니다. GitHub.com상의 Private 저장소는 Organization 소속의 저장소만 지원
   
   * GHES는 Organization 소속의 저장소만 지원
   
   * User Defiend 패턴까지 지원 예정
   
   * Secret Scanning alert를 볼 수 있는 권한은 [Org의 Owner/저장소의 Admin이 추가/삭제 가능](https://docs.github.com/en/enterprise-server@latest/github/administering-a-repository/managing-repository-settings/managing-security-and-analysis-settings-for-your-repository#granting-access-to-security-alerts)
   

<br>

### How 4. 전체적인 보안 상태를 확인할 수 있습니다. 
 
   * Org Owner는 [Security Center](https://github.com/orgs/johnjohncom/security)에서 조직 레벨의 전체 상태를 확인할 수 있습니다 (currently beta on GHEC)
     - [Team level Security center](https://github.com/orgs/johnjohncom/teams/team1/security)

<br>

### How 5. Policy를 설정 합니다. 
  
   * [Org에 대해 Advanced Security 강제화](https://docs.github.com/en/enterprise-server@latest/admin/policies/enforcing-policies-for-your-enterprise/enforcing-policies-for-advanced-security-in-your-enterprise#enforcing-a-policy-for-advanced-security-features)
   
   * [Policy.md 파일 설정](https://github.com/doosanbear/Demo-webgoatm/security/policy)
   
<br>

### 기타 자료 링크
- [CodeQL Document](https://codeql.github.com/docs/)
- [CodeQL query help](https://codeql.github.com/codeql-query-help/)
- [push a GitHub Actions workflow to multiple repositories](https://github.com/jhutchings1/Create-ActionsPRs)
- [codeQL CWE coverage](https://codeql.github.com/codeql-query-help/codeql-cwe-coverage/#)